spring.datasource.url=jdbc:postgresql://localhost:5432/lms
spring.datasource.username=postgres
spring.datasource.password=071204
spring.datasource.driver-class-name=org.postgresql.Driver


# ===================================================================
#                      JPA & HIBERNATE
# ===================================================================
# ??????????? 'validate'! 'update' ? ?????????? ????? ??????.
# 'validate' ?????????, ??? ????? ?? ????????????? ????? entity, ?? ?? ?????? ??.
# ?? ??? ????????? ????? ?????? ???????? Liquibase.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


# ===================================================================
#                      LIQUIBASE
# ===================================================================
# ?????????????????. ??? ??????? ?????????? ??? ?????????? ?????? ??.
spring.liquibase.change-log=classpath:/db/changelog/db.changelog-master.yaml
spring.liquibase.enabled=true


# ===================================================================
#                      HIBERNATE ENVERS (AUDIT)
# ===================================================================
# ??? ????????? ????????? ??? ????, ??? ??????????.
spring.jpa.properties.org.hibernate.envers.revision_field_name=revision_id
spring.jpa.properties.org.hibernate.envers.revision_type_field_name=revision_type
spring.jpa.properties.org.hibernate.envers.audit_table_suffix=_aud
spring.jpa.properties.org.hibernate.envers.store_data_at_delete=true
spring.jpa.properties.org.hibernate.envers.revision_on_collection_change=true
# ?????: ??? ????????? ?????? ???? ? ?????????.
spring.jpa.properties.org.hibernate.envers.do_not_audit_optimistic_locking_field=false
# ????????? ???? ????????? ????????? ??? ???????? "??????" ?????? ? ??????
spring.jpa.properties.org.hibernate.envers.audit_strategy=uz.imv.lmssystem.config.audit.PreUpdateStateAuditStrategy


# ===================================================================
#                      MINIO (FILE STORAGE)
# ===================================================================
# ?????: API MinIO ???????? ?? ????? 9000. ???? 9001 - ??? ??? ???-???????.
# ?????? 'minio.endpoint' ?? 'minio.url' ??? ???????????? ?????? @Value.
minio.url=http://localhost:9000
minio.access-key=minioadmin
minio.secret-key=minioadmin
minio.bucket.name=employee # ??? ?????? ??????


# ===================================================================
#                      FILE UPLOAD
# ===================================================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB


# ===================================================================
#                      REDIS (CACHE)
# ===================================================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
# spring.data.redis.password= # ???? ?????? ???, ??? ?????? ????? ??????? ??? ????????????????

# --- Cache Settings ---
spring.cache.type=redis
spring.cache.redis.time-to-live=5m
spring.cache.redis.cache-null-values=false
spring.cache.redis.key-prefix=lms-cache::


# ===================================================================
#                      LOGGING
# ===================================================================
# ??? ??????? ???? - ????? ???????.
logging.level.org.springframework.cache=DEBUG
# ??? ????????? SQL-????????
logging.level.org.hibernate.SQL=DEBUG
# ??? ????????? ??????????, ??????? ??????????? ? SQL-??????? (?)
logging.level.org.hibernate.type.descriptor.sql=TRACE